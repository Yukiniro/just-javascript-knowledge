# 从内部学习

在下一个模块中，我们将仔细研究我们的 JavaScript 宇宙和其中的值。但是在我们开始之前，我们需要直面一些问题。我们的 JavaScript 宇宙是真实的吗？

## JavaScript 模拟

我居住在我的小星球上，位于我们的 JavaScript 宇宙。

当我询问 JavaScript 问题时，它会用一个值回答我。我当然不是凭空想出这些值的。变量、表达式、值 -- 它们填充了我们的世界。我周围的 JavaScript 宇宙对我来说绝对是真实的。

但有时，在下一行代码之前会有片刻的沉默，在下一个函数调用之前会有短暂的暂停。在这些时刻，我看到了一个比我们的 JavaScript 宇宙更大的世界。

<video src="/javascript-world.webm" autoPlay loop muted controls />

在这些幻象中，没有变量和值，没有表达式，也没有字面量。取而代之的是夸克、原子和电子，还有水和生命。也许你也熟悉这个宇宙？

在这里，被称为“人类”的生命体使用被称为“电脑”的特殊机器来模拟我们的 JavaScript 宇宙。有一部分人这样做是为了娱乐，有一部分人这样做是为了利润，还有一些人这样做没有任何的原因。在他们的心血来潮之下，我们的整个宇宙一天之内被创建和销毁了一万亿次。

_也许我们的 JavaScript 宇宙没有那么真实。_

知道了这点，我们可以通过两种方式学习我们的世界。

## 从外部学习

一种学习我们的 JavaScript 宇宙的方式是 _从外部学习_。

我们可能会关注如何模拟我们的世界 -- 一个 JavaScript 引擎 -- “真正”的工作。例如，我们可能会学习这个文本字符串 -- 我们世界中的一个值 -- 是存储在硅芯片中的字符序列。

这种方式会将我们的心智聚焦在人类和计算机的物理世界上。但是我们的方法有所不同。

## 从内部学习

我们会 _从内部学习_ 我们的世界。将你的心智传输到 JavaScript 宇宙并且站在我的身边。我们将观察我们宇宙的规律，并且像物理世界中的物理学家一样进行实验。

**我们将学习我们的 JavaScript 宇宙，并且不会关心其实现。类似于物理学家讨论恒星的特性，而不是质疑物理世界是否真实。这不重要！不管我们学习的是物理世界还是 JavaScript 世界，我们都可以使用它们的术语描述它们**。“不可变”是“无法变化的”花哨拉丁语。也可以理解为“只读”。我们完全无法污染原始值。

我们的心智模型不会尝试解释一个值在计算机的内存中是如何表示的。因为答案一直在变化。答案甚至会在程序[正在运行](https://v8.dev/blog/react-cliff)的时候改变。如果你已经听过 JavaScript 是如何“真正”在内存中表示数字、字符串或者对象。那很可能是错误的。

对我们来说，每个字符串都是一个值 -- 不是“指针”或”内存地址“ -- 一个值。**在我们的宇宙中，一个值就足够了**。不要让“存储单元”和其他低级隐喻分散你的注意力，让你无法构建一个准确的 JavaScript 高级心智模型。反正都是一层一层的乌龟叠下去！

如果你学过其他的低级语言，请抛弃“引用传递”、“栈上分配”、“写时复制”等直觉。这些计算机如何运行的模型经常使理解 JavaScript 中能做什么、不能做什么变得困难。我们会关注一些底层的细节，但仅限于[真正重要的地方](https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/)。它们可以作为我们心智模型的补充而不是基础。

**我们的心智模型的基础是值**。每个值都属于一个类型。原始值是不可变的。我们可以使用名为变量的“线”指向值。这个基础 -- 对值的理解 -- 将帮助我们继续构建我们的心智模型。

至于这些奇怪的幻象，我不会再想什么。我有线去指向，有问题去询问。我最好开始吧！

星星在我观看它们的时候很闪亮。

在我眨眼的时候它们还在那里吗？

我耸耸肩。

“实施细节”。

<video src="/are-we-in-a-simulation-too_.webm" autoPlay loop muted controls />
