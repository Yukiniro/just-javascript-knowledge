# JavaScript 宇宙

一开始是值

值是什么？这很难说。

几何中的点是什么？人类语言中的单词是什么？值是 JavaScript 中的一个基本概念 -- 所以我们不能通过其他术语来定义它。

相反，我们将通过示例来定义它。数字和字符串是值。对象和函数也是值。

也有很多不是值，比如我们代码中的一部分 -- `if` 语句、循环和变量声明。

## 值和代码

在我们开始构建我们的心智模型时，我们需要清除的第一个常见误解是值是我们的代码。相反，我们需要单独考虑它们 -- 我们的代码与值交互，但是值存在于一个完全独立的空间。

为了区分我们的 JavaScript 程序中的值和代码，我喜欢想象 Antoine de Saint-Exupéry 的这幅小王子图画：

![little_prince](/little_prince.jpg)

我正站在一个小型星球，手里拿着一份指令清单。这份清单是我的程序 -- 我的代码。当我阅读我的指令清单时，我能看见很多事情 -- 有 `if` 语句、变量声明、逗号和大括号。

我的代码包含诸如“调用一个函数”、“重复做某件事”或者“抛出一个错误”。我从我的小世界的表面逐步阅读了这些说明。

但是每隔一段时间我都会抬头看。

在一个晴朗的夜晚，我在 JavaScript 天空中看到了不同的值：booleans、numbers、strings、symbols、functions 和 objects，`null` 和 `undefined` -- 天呐！我可能在我的代码中引用它们，但是它们并不存在于我的代码中。

在我们的 JavaScript 宇宙中，值浮动在空中。

![universe](/luniverse.png)

“等等”，你也许会说，“我一直认为值在我的代码中！”。在这里，我请求你进行一个大胆的尝试。这个心智模型还有几个模块才能得到回报。[给它五分钟](https://signalvnoise.com/posts/3124-give-it-five-minutes)。我知道我在做什么。

## 值

从广义上讲，有两种值。

### 原始值

**原始值** 像星星 -- 寒冷且遥远，但是我需要的时候它们总是在那里。即使在我的小星球表面我也能发现并指出它们。它们可以时数字、字符串或者其他。所有的原始值都有一个共同点：**它们是我们 JavaScript 宇宙的永久组成部分。我可以指出它们，但是我不能创建、销毁或者更改它们**。

要在实践中查看原始值，请打开你的浏览器的控制面板并打印它们：

```js
console.log(2);
console.log("hello");
console.log(undefined);
```

### 对象和函数

**对象和函数**也是值，但是跟原始值不一样，**我可以从我的代码中操作它们**。如果原始值像遥远的星星，那么对象和函数更像是漂浮我的星球上的小行星。它们不是我代码中一部分，但是它们近得可以进行操作。

:::warning

#### 趣闻

函数是对象，但是由于它们包含一些独特的附加功能，因此我们将单独引用它们以避免混淆。

:::

继续将其中一部分打印到浏览器控制面板：

```js
console.log({});
console.log([]);
console.log(x => x * 2);
```

注意浏览器控制面板显示它们跟原始值是不同的。某些浏览器也许会在它们面前显示一个箭头，或者当你点击它们时做一些特别的事情。如果你安装了几种不同的浏览器，比较它们是如何可视化对象和函数的。

### 值的类型

只有 9 种值的类型，但是我们如何知道一个特定值的类型？

![telescope.png](/telescope.png)

如果我们想要检查一个值的类型，我们可以使用 `typeof` 操作符。以下是一些你可以在浏览器控制面板尝试的示例：

```js
console.log(typeof 2); // "number"
console.log(typeof "hello"); // "string"
console.log(typeof undefined); // "undefined"
```

严格来说，`typeof` 的括号不是必须的。例如，`typeof 2` 和 `typeof(2)` 是等价的。然而，为了避免歧义有时候括号是必须的。下面的示例中就有一个会因为我们省略 `typeof` 后的括号而中断。尝试猜测是哪一个：

```js
console.log(typeof({})); // "object"
console.log(typeof([])); // "object"
console.log(typeof(x => x * 2)); // "function"
```

你可以在浏览器的控制面板验证你的猜测。

![using-typeof.webm](/using-typeof.webm)

你可能有问题。很好。如果你提出问题，我们的 JavaScript 宇宙可能会回答！当然，前提是你知道如何提问。

## 表达式


